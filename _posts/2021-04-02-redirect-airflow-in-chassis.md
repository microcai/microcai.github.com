---
layout: post
title: 为cpu废热导风
tags: [散热, 风道]
---

两年前，我组装第一台 NAS 的时候，对 NAS 的要求就是低功耗。倒不是因为我没钱，花不起电费。而是低功耗 = 低散热需求 = 低噪音。

毕竟，NAS 是放家里运行的。如果像商品服务器那样，开机约等于飞机起飞，是没法放家里的。
但是功耗大了，就一定有噪音吗？

最近为公司升级服务器的时候，把3700X 淘汰下来换成了 7302P。EPYC 使用了 4U 高度的散热器后，声音并不大。和普通PC并无区别。

* 大部分情况下，使用 PC 平台足够承担服务器的工作。而且成本低非常多。唯一需要注意的是，得把 PC 平台常用的内存换成工作站使用的 Unbuffered ECC 内存。不信各位看看各大云产商的主流虚拟机配置，都是比家用 PC 配置略低的 *

* 实际上，我们也本不需要升级 epyc，只要再配置一台 PC 也足矣。但是因为我们排斥云，坚持使用物理机。排斥机房，坚持将服务器放办公室运行，因此并不希望增加机器的数量增加维护成本。服务器独享一条专线，并不和办公室的网络共享，因此服务器是直连ISP，中间没有使用路由器和交换机。这样可以简化网络的配置。如果使用2台服务器完成工作，就需要增加路由器和交换机了，增加网络设备，就增加了失效点。再三考虑后，决定升级 epyc 而不是用两台 PC *

这次为公司装服务器的经验，促使我后来将家里的 [NAS 升级为 EPYC](/2021/03/28/epyc-as-3rd-nas.html)。原来只要管理好风扇转速，然后设计好风道，epyc 也是可以凉又静的。

是的，要设计好风道！

由于服务器上的发热大户就只有 CPU，没有显卡。机箱里是空荡荡的，就一个高耸的散热器塔。装完服务器后我就想，这巨大的塔，把热量都排在机箱里面，太贱了。这就导致机箱必须加装散热器，把废热排出机箱。服务器开机起飞的罪魁祸首就是机箱的暴力风扇。

为什么 CPU 的废热不能直接排出机箱？非要先排到机箱里面，再利用机箱的风扇和风道排出机箱？

水冷效果为什么好，不就是因为水冷不会把 cpu 的热量排入机箱么！

风冷能不能学水冷？

你肯定会不假思索的说不能。因为风冷的热管是硬的，没法调整散热片的位置，只能待 cpu 上方。热量就必然只能排到机箱里。

如果给cpu的散热器加个套，让他的废气直通机箱外部呢？那还需要个鬼的机箱风扇！

bingo！

想到了这点，说干就干！立马用3D打印机打印了一个散热器罩子。完美契合散热器和机箱的排风孔。机箱的排风口上的风扇就彻底的抛弃不要了。

少了一个风扇，cpu 的温度非但没有降低，还让主板其他元件再也不受 cpu 的废热之苦。
少了一个风扇，少了一个振动源，噪音大大降低

但是为什么cpu散热器不自己带个罩子呢？或者机箱不提供这个罩子呢？还非得我自己造。

